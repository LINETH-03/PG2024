@model List<PG2024.Models.TablesNewModels.CategoriaTableNewModel>

@{
    ViewBag.Title = "Index";
}

<h2>ADMINISTRACION DE INVENTARIO</h2>



<div class="row">


</div>
<br>
<div class="row">
    <div class="col-lg-12">
        <table class="table table-bordered">
            <tr>

                <th>CATEGORIA</th>

                <th>ACCIONES </th>




            </tr>
            @foreach (var oElemento in Model)
            {
                <tr>

                    <td>@oElemento.Nombre</td>
                    <td>
                        <div class="d-inline">


                            <form action="@Url.Action("Delete", "Categoria")" method="post" onsubmit="return confirm('¿Estás seguro de que deseas eliminar esta Cateogoria?');">
                                <input type="hidden" name="CategoriaID" value="@oElemento.CategoriaID" />
                                <input type="submit" value="Eliminar" class="btn btn-danger" />
                                @if (TempData["ErrorMessage"] != null)
                                {
                                    <script>alert("@TempData["ErrorMessage"]");</script>
                                }

                                <input onclick="document.location.href = '@Url.Action("Edit", "Categoria", new { CategoriaID = oElemento.CategoriaID })'" type="button" value="Editar" class="btn btn-default" />

                            </form>



                        </div>
                    </td>
                </tr>
            }

        </table>

        <input type="button" class="btn btn-default" onclick="document.location.href = '@Url.Content("~/Inventario")'" value="Volver" />
        <input type="button" class="btn btn-primary" onclick="document.location.href = '@Url.Content("~/Categoria/Add")'" value="Agregar" />

    </div>


</div>


<script>
    function jsDeleteConfirmation(CategoriaID) {
    if (confirm("¿Estás seguro de que deseas eliminar esta Categoria?")) {
        var url = '@Url.Action("Delete", "Categoria")' + '?CategoriaID=' + CategoriaID;
        // Aquí puedes realizar tu llamada AJAX para eliminar el usuario
        // Ejemplo:
        // $.post(url, function(data) {
        //    // Manejar la respuesta de eliminación si es necesario
        // });
    }
}


</script>
